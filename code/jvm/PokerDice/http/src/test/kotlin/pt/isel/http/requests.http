### Create user
POST http://localhost:8080/api/users

### Create user
POST http://localhost:8080/api/users
Content-Type: application/json

{
  "name": "teste2",
  "email": "teste2@gmail.com",
  "password": "teste2"
}

### Create a Second User
POST http://localhost:8080/api/users
Content-Type: application/json

{
  "name": "Duncan Idaho",
  "email": "duncan@idaho.com",
  "password": "swordmaster"
}

### Get token
POST http://localhost:8080/api/users/token
Content-Type: application/json

{
  "email": "teste1@gmail.com",
  "password": "teste1"
}


### Get token for second user

POST http://localhost:8080/api/users/token
Content-Type: application/json

{
    "email": "duncan@idaho.com",
    "password": "swordmaster"
}


### Logout (requires valid token) ## Body needed
POST http://localhost:8080/api/logout
Authorization: Bearer imFDg9WxAiWFqePC73zhL3IXOAVbaB2xFcdrO7iUoS4=

### Get user info (requires valid token)
GET http://localhost:8080/api/me
Authorization: Bearer Ouw1E7uS4w_MvGak3wQq3SNDjlk76Cb1T1kVOXeVnyE=


### Create lobby (requires valid token)
POST http://localhost:8080/api/lobbies
Authorization: Bearer ujPh37q90-k-jcUdo_dyGYiXmyYvHZ3DBKDAgU8bStU=
Content-Type: application/json

{
  "name": "Teste lobby",
  "description": "lobby for teste",
  "maxPlayers": 6,
  "minPlayers": 2
}

### List lobbies
GET http://localhost:8080/api/lobbies
//When the same Host creates two lobbies, both stay open resulting in two hobbies being listed with the same player(the host)


### Join lobby (requires valid token)
POST http://localhost:8080/api/lobbies/1/join
Authorization: Bearer Ouw1E7uS4w_MvGak3wQq3SNDjlk76Cb1T1kVOXeVnyE= // Trying to join a lobby I'm already in is giving a 200

### Leave lobby (requires valid token)
POST http://localhost:8080/api/lobbies/1/leave
Authorization: Bearer Ouw1E7uS4w_MvGak3wQq3SNDjlk76Cb1T1kVOXeVnyE= // Leaving the loby as an host reutunrs "closed = true", and closes the lobby

### Close lobby (requires valid token)
DELETE http://localhost:8080/api/lobbies/1
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=  // Returns 204

### Create game (requires valid token and existing lobby)
POST http://localhost:8080/api/games
Authorization: Bearer JukMAO_1XC-8Y3aC-VNBF3vBSusiuqZTVu7wfBd9P-o= // Creating game with non-host token
Content-Type: application/json

{
  "lobbyId": 1,
  "numberOfRounds": 4
}

### End game (requires valid token)
POST http://localhost:8080/api/games/1/end
Authorization: Bearer _fgr0LRC1JnmbQ7PDnmdZcBIZb4hHrsqK4mAekkD5k8

### ====== NEW GAME FUNCTION TESTS ======

### Start game (requires valid token and existing game)
POST http://localhost:8080/api/games/2/start
Authorization: Bearer yG5LCuwGJDDGPalLSleORQ5JGX4f83pDKiT9nt61wGI=
Content-Type: application/json

{
  "lobbyId": 2,
  "numberOfRounds": 5
}

### Start a new round (requires game to be in RUNNING state)
POST http://localhost:8080/api/games/1/rounds
Authorization: Bearer token-user-1-valid

### Set ante for current round (requires round to be started)
POST http://localhost:8080/api/games/1/ante
Authorization: Bearer token-user-1-valid
Content-Type: application/json

{
  "ante": 10
}

### Move to next player's turn
POST http://localhost:8080/api/games/1/next-turn
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### Pay ante (requires round to be started)
POST http://localhost:8080/api/games/1/pay-ante
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "ante": 10
}

### ====== COMPLETE GAME FLOW TEST ======

### 1. Create a game
POST http://localhost:8080/api/games
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "lobbyId": 1,
  "numberOfRounds": 3
}

### 2. Get the created game (use ID from step 1)
GET http://localhost:8080/api/games/1
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 3. Start the game
POST http://localhost:8080/api/games/1/start
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "lobbyId": 1,
  "numberOfRounds": 3
}

### 4. Start first round
POST http://localhost:8080/api/games/1/rounds
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 5. Set ante for the round
POST http://localhost:8080/api/games/1/ante
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "ante": 20
}

### 6. Players pay ante
POST http://localhost:8080/api/games/1/pay-ante
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "ante": 20
}

### 7. Move to next turn
POST http://localhost:8080/api/games/1/next-turn
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 8. Check game state after turn
GET http://localhost:8080/api/games/1
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 9. Start second round
POST http://localhost:8080/api/games/1/rounds
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 10. End the game
POST http://localhost:8080/api/games/1/end
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
