### Create user
POST http://localhost:8080/api/users

###Create Invite
POST http://localhost:8080/api/users/invite
Authorization: Bearer Q3wgBpIZkJ5zH7ccNVU4ADlFc1NFB9itmuWd4fHeHWE=

### Create user
POST http://localhost:8080/api/users
Content-Type: application/json

{
  "name": "teste1",
  "email": "teste1@gmail.com",
  "password": "teste1",
  "invite": "2PcP1oQ4L4xaeC7Z3jWyhA=="
}

### Create a Second User
POST http://localhost:8080/api/users
Content-Type: application/json

{
  "name": "Duncan Idaho",
  "email": "duncan@idaho.com",
  "password": "swordmaster"
}

### Get token
POST http://localhost:8080/api/users/token
Content-Type: application/json

{
  "email": "Admin@gmail.com",
  "password": "password123"
}


### Get token for second user

POST http://localhost:8080/api/users/token
Content-Type: application/json

{
    "email": "duncan@idaho.com",
    "password": "swordmaster"
}


### Logout (requires valid token) ## Body needed
POST http://localhost:8080/api/logout
Authorization: Bearer imFDg9WxAiWFqePC73zhL3IXOAVbaB2xFcdrO7iUoS4=

### Get user info (requires valid token)
GET http://localhost:8080/api/me
Authorization: Bearer KOGPXrKriyoMJSrjTSL7GsNC15s1YBmIAMH7H-4zHf4=


### Create lobby (requires valid token)
POST http://localhost:8080/api/lobbies
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=
Content-Type: application/json

{
  "name": "Teste final",
  "description": "lobby for teste final",
  "maxPlayers": 6,
  "minPlayers": 2
}

### List lobbies
GET http://localhost:8080/api/lobbies
//When the same Host creates two lobbies, both stay open resulting in two hobbies being listed with the same player(the host)


### Join lobby (requires valid token)
POST http://localhost:8080/api/lobbies/2/join
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg= // Trying to join a lobby I'm already in is giving a 200

### Leave lobby (requires valid token)
POST http://localhost:8080/api/lobbies/2/leave
Authorization: Bearer sX8BI404jysGvSvXdjbUXnrUMKdbKiopWh98-jM-g9s= // Leaving the loby as an host reutunrs "closed = true", and closes the lobby

### Close lobby (requires valid token)
DELETE http://localhost:8080/api/lobbies/1
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=  // Returns 204

### Create game (requires valid token and existing lobby)
POST http://localhost:8080/api/games
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM= // Creating game with non-host token
Content-Type: application/json

{
  "lobbyId": 2,
  "numberOfRounds": 2
}

### End game (requires valid token)
POST http://localhost:8080/api/games/5/end
Authorization: Bearer JQJyX_3db-Q6iEj-ci3zQ9nCUmT2oYyUgoRLpPskefo=

### Find Game
GET http://localhost:8080/api/games/1
Authorization: Bearer dmXbIK_WCynsh13UJ7lsfEysh5PjEQyOIbbH4IWbyKM=

### ====== NEW GAME FUNCTION TESTS ======

### Start game (requires valid token and existing game)
POST http://localhost:8080/api/games/6/start
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=
Content-Type: application/json

{
  "lobbyId": 2
}

### Start a new round (requires game to be in RUNNING state)
POST http://localhost:8080/api/games/6/rounds/start
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=

### Set ante for current round (requires round to be started)
POST http://localhost:8080/api/games/6/rounds/ante
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=
Content-Type: application/json

{
  "ante": 50
}

### Update CurrentDices in Turn
POST http://localhost:8080/api/games/6/rounds/update-turn
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg=
Content-Type: application/json

{
    "dice": "J"
}

### Move to next player's turn
POST http://localhost:8080/api/games/6/rounds/next-turn
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=

### Pay ante (requires round to be started)
POST http://localhost:8080/api/games/6/rounds/pay-ante
Authorization: Bearer hlH6h8RZ1tD7twrvbUt3HodmjfssowQu_TolbKu7CCM=
Content-Type: application/json

### Roll dices
POST http://localhost:8080/api/games/6/rounds/roll-dices
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg=

### Check Winner of the round
POST http://localhost:8080/api/games/6/rounds/check-winner
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg=

### Check winner of the game
POST http://localhost:8080/api/games/6/check-winner
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg=

### Distribute Winnings
POST http://localhost:8080/api/games/6/rounds/distribute-winnings
Authorization: Bearer fyRrCiQtTpmZgwwQZ-rFKyk55cEGd54fRFUOMJotPjg=


### ====== COMPLETE GAME FLOW TEST ======

### 1. Create a game
POST http://localhost:8080/api/games
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "lobbyId": 1,
  "numberOfRounds": 3
}

### 2. Get the created game (use ID from step 1)
GET http://localhost:8080/api/games/1
Authorization: Bearer PovWy80W1pKp-dybZxcIFAYigtYmwklTbzYk2s72OTg=

### 3. Start the game
POST http://localhost:8080/api/games/1/start
Authorization: Bearer PovWy80W1pKp-dybZxcIFAYigtYmwklTbzYk2s72OTg=
Content-Type: application/json

{
  "lobbyId": 1
}

### 4. Start first round
POST http://localhost:8080/api/games/1/rounds/start
Authorization: Bearer PovWy80W1pKp-dybZxcIFAYigtYmwklTbzYk2s72OTg=

### 5. Set ante for the round
POST http://localhost:8080/api/games/1/ante
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "ante": 20
}

### 6. Players pay ante
POST http://localhost:8080/api/games/1/pay-ante
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
Content-Type: application/json

{
  "ante": 20
}

### 7. Move to next turn
POST http://localhost:8080/api/games/1/next-turn
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 8. Check game state after turn
GET http://localhost:8080/api/games/1
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 9. Start second round
POST http://localhost:8080/api/games/1/rounds
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=

### 10. End the game
POST http://localhost:8080/api/games/1/end
Authorization: Bearer rUNoVw3004M7mZPlzfO-oPDPCC79RxB41Ojm0Qp00cw=
